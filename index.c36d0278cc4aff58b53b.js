!function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var n={};e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=23)}([function(t,e,n){"use strict";function i(t,e){var n=e.x-t.x,i=e.y-t.y;return Math.atan2(i,n)}function r(t,e){return{x:t*Math.cos(e),y:t*Math.sin(e)}}Object.defineProperty(e,"__esModule",{value:!0}),e.NULL_VECTOR={x:0,y:0},e.NAN_VECTOR={x:NaN,y:NaN},e.angleBetweenTwoVectors=i,e.polarToCartesian=r},function(t,e,n){var i,r;/** @preserve SAT.js - Version 0.6.0 - Copyright 2012 - 2016 - Jim Riecken <jimr@jimr.ca> - released under the MIT License. https://github.com/jriecken/sat-js */
!function(s,o){"use strict";i=o,void 0!==(r="function"==typeof i?i.call(e,n,e,t):i)&&(t.exports=r)}(0,function(){"use strict";function t(t,e){this.x=t||0,this.y=e||0}function e(e,n){this.pos=e||new t,this.r=n||0}function n(e,n){this.pos=e||new t,this.angle=0,this.offset=new t,this.setPoints(n||[])}function i(e,n,i){this.pos=e||new t,this.w=n||0,this.h=i||0}function r(){this.a=null,this.b=null,this.overlapN=new t,this.overlapV=new t,this.clear()}function s(t,e,n){for(var i=Number.MAX_VALUE,r=-Number.MAX_VALUE,s=t.length,o=0;o<s;o++){var a=t[o].dot(e);a<i&&(i=a),a>r&&(r=a)}n[0]=i,n[1]=r}function o(t,e,n,i,r,o){var a=m.pop(),l=m.pop(),h=d.pop().copy(e).sub(t),c=h.dot(r);if(s(n,r,a),s(i,r,l),l[0]+=c,l[1]+=c,a[0]>l[1]||l[0]>a[1])return d.push(h),m.push(a),m.push(l),!0;if(o){var u=0;if(a[0]<l[0])if(o.aInB=!1,a[1]<l[1])u=a[1]-l[0],o.bInA=!1;else{var p=a[1]-l[0],f=l[1]-a[0];u=p<f?p:-f}else if(o.bInA=!1,a[1]>l[1])u=a[0]-l[1],o.aInB=!1;else{var p=a[1]-l[0],f=l[1]-a[0];u=p<f?p:-f}var y=Math.abs(u);y<o.overlap&&(o.overlap=y,o.overlapN.copy(r),u<0&&o.overlapN.reverse())}return d.push(h),m.push(a),m.push(l),!1}function a(t,e){var n=t.len2(),i=e.dot(t);return i<0?x:i>n?b:_}function l(t,e){var n=d.pop().copy(t).sub(e.pos),i=e.r*e.r,r=n.len2();return d.push(n),r<=i}function h(t,e){w.pos.copy(t),g.clear();var n=f(w,e,g);return n&&(n=g.aInB),n}function c(t,e,n){var i=d.pop().copy(e.pos).sub(t.pos),r=t.r+e.r,s=r*r,o=i.len2();if(o>s)return d.push(i),!1;if(n){var a=Math.sqrt(o);n.a=t,n.b=e,n.overlap=r-a,n.overlapN.copy(i.normalize()),n.overlapV.copy(i).scale(n.overlap),n.aInB=t.r<=e.r&&a<=e.r-t.r,n.bInA=e.r<=t.r&&a<=t.r-e.r}return d.push(i),!0}function u(t,e,n){for(var i=d.pop().copy(e.pos).sub(t.pos),r=e.r,s=r*r,o=t.calcPoints,l=o.length,h=d.pop(),c=d.pop(),u=0;u<l;u++){var p=u===l-1?0:u+1,f=0===u?l-1:u-1,y=0,v=null;h.copy(t.edges[u]),c.copy(i).sub(o[u]),n&&c.len2()>s&&(n.aInB=!1);var m=a(h,c);if(m===x){h.copy(t.edges[f]);var g=d.pop().copy(i).sub(o[f]);if((m=a(h,g))===b){var w=c.len();if(w>r)return d.push(i),d.push(h),d.push(c),d.push(g),!1;n&&(n.bInA=!1,v=c.normalize(),y=r-w)}d.push(g)}else if(m===b){if(h.copy(t.edges[p]),c.copy(i).sub(o[p]),(m=a(h,c))===x){var w=c.len();if(w>r)return d.push(i),d.push(h),d.push(c),!1;n&&(n.bInA=!1,v=c.normalize(),y=r-w)}}else{var _=h.perp().normalize(),w=c.dot(_),P=Math.abs(w);if(w>0&&P>r)return d.push(i),d.push(_),d.push(c),!1;n&&(v=_,y=r-w,(w>=0||y<2*r)&&(n.bInA=!1))}v&&n&&Math.abs(y)<Math.abs(n.overlap)&&(n.overlap=y,n.overlapN.copy(v))}return n&&(n.a=t,n.b=e,n.overlapV.copy(n.overlapN).scale(n.overlap)),d.push(i),d.push(h),d.push(c),!0}function p(t,e,n){var i=u(e,t,n);if(i&&n){var r=n.a,s=n.aInB;n.overlapN.reverse(),n.overlapV.reverse(),n.a=n.b,n.b=r,n.aInB=n.bInA,n.bInA=s}return i}function f(t,e,n){for(var i=t.calcPoints,r=i.length,s=e.calcPoints,a=s.length,l=0;l<r;l++)if(o(t.pos,e.pos,i,s,t.normals[l],n))return!1;for(var l=0;l<a;l++)if(o(t.pos,e.pos,i,s,e.normals[l],n))return!1;return n&&(n.a=t,n.b=e,n.overlapV.copy(n.overlapN).scale(n.overlap)),!0}var y={};y.Vector=t,y.V=t,t.prototype.copy=t.prototype.copy=function(t){return this.x=t.x,this.y=t.y,this},t.prototype.clone=t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.perp=t.prototype.perp=function(){var t=this.x;return this.x=this.y,this.y=-t,this},t.prototype.rotate=t.prototype.rotate=function(t){var e=this.x,n=this.y;return this.x=e*Math.cos(t)-n*Math.sin(t),this.y=e*Math.sin(t)+n*Math.cos(t),this},t.prototype.reverse=t.prototype.reverse=function(){return this.x=-this.x,this.y=-this.y,this},t.prototype.normalize=t.prototype.normalize=function(){var t=this.len();return t>0&&(this.x=this.x/t,this.y=this.y/t),this},t.prototype.add=t.prototype.add=function(t){return this.x+=t.x,this.y+=t.y,this},t.prototype.sub=t.prototype.sub=function(t){return this.x-=t.x,this.y-=t.y,this},t.prototype.scale=t.prototype.scale=function(t,e){return this.x*=t,this.y*=e||t,this},t.prototype.project=t.prototype.project=function(t){var e=this.dot(t)/t.len2();return this.x=e*t.x,this.y=e*t.y,this},t.prototype.projectN=t.prototype.projectN=function(t){var e=this.dot(t);return this.x=e*t.x,this.y=e*t.y,this},t.prototype.reflect=t.prototype.reflect=function(t){var e=this.x,n=this.y;return this.project(t).scale(2),this.x-=e,this.y-=n,this},t.prototype.reflectN=t.prototype.reflectN=function(t){var e=this.x,n=this.y;return this.projectN(t).scale(2),this.x-=e,this.y-=n,this},t.prototype.dot=t.prototype.dot=function(t){return this.x*t.x+this.y*t.y},t.prototype.len2=t.prototype.len2=function(){return this.dot(this)},t.prototype.len=t.prototype.len=function(){return Math.sqrt(this.len2())},y.Circle=e,e.prototype.getAABB=e.prototype.getAABB=function(){var e=this.r;return new i(this.pos.clone().sub(new t(e,e)),2*e,2*e).toPolygon()},y.Polygon=n,n.prototype.setPoints=n.prototype.setPoints=function(e){if(!this.points||this.points.length!==e.length){var n,i=this.calcPoints=[],r=this.edges=[],s=this.normals=[];for(n=0;n<e.length;n++)i.push(new t),r.push(new t),s.push(new t)}return this.points=e,this._recalc(),this},n.prototype.setAngle=n.prototype.setAngle=function(t){return this.angle=t,this._recalc(),this},n.prototype.setOffset=n.prototype.setOffset=function(t){return this.offset=t,this._recalc(),this},n.prototype.rotate=n.prototype.rotate=function(t){for(var e=this.points,n=e.length,i=0;i<n;i++)e[i].rotate(t);return this._recalc(),this},n.prototype.translate=n.prototype.translate=function(t,e){for(var n=this.points,i=n.length,r=0;r<i;r++)n[r].x+=t,n[r].y+=e;return this._recalc(),this},n.prototype._recalc=function(){var t,e=this.calcPoints,n=this.edges,i=this.normals,r=this.points,s=this.offset,o=this.angle,a=r.length;for(t=0;t<a;t++){var l=e[t].copy(r[t]);l.x+=s.x,l.y+=s.y,0!==o&&l.rotate(o)}for(t=0;t<a;t++){var h=e[t],c=t<a-1?e[t+1]:e[0],u=n[t].copy(c).sub(h);i[t].copy(u).perp().normalize()}return this},n.prototype.getAABB=n.prototype.getAABB=function(){for(var e=this.calcPoints,n=e.length,r=e[0].x,s=e[0].y,o=e[0].x,a=e[0].y,l=1;l<n;l++){var h=e[l];h.x<r?r=h.x:h.x>o&&(o=h.x),h.y<s?s=h.y:h.y>a&&(a=h.y)}return new i(this.pos.clone().add(new t(r,s)),o-r,a-s).toPolygon()},y.Box=i,i.prototype.toPolygon=i.prototype.toPolygon=function(){var e=this.pos,i=this.w,r=this.h;return new n(new t(e.x,e.y),[new t,new t(i,0),new t(i,r),new t(0,r)])},y.Response=r,r.prototype.clear=r.prototype.clear=function(){return this.aInB=!0,this.bInA=!0,this.overlap=Number.MAX_VALUE,this};for(var d=[],v=0;v<10;v++)d.push(new t);for(var m=[],v=0;v<5;v++)m.push([]);var g=new r,w=new i(new t,1e-6,1e-6).toPolygon();y.isSeparatingAxis=o;var x=-1,_=0,b=1;return y.pointInCircle=l,y.pointInPolygon=h,y.testCircleCircle=c,y.testPolygonCircle=u,y.testCirclePolygon=p,y.testPolygonPolygon=f,y})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=function(){function t(){this.position={x:NaN,y:NaN},this.angle=0,this.speed=i.NULL_VECTOR,this.maxSpeedModule=0}return t.prototype.setPosition=function(t,e){this.position.x=t,this.position.y=e},t.prototype.setAngle=function(t){this.angle=t},t.prototype.setMovementDirection=function(t,e){this.speed.x=t*this.maxSpeedModule,this.speed.y=e*this.maxSpeedModule},t.prototype.resetPosition=function(){this.setPosition(NaN,NaN)},t.prototype.isOutOfGame=function(){return Number.isNaN(this.position.x)},t}();e.default=r},function(t,e){function n(t,e){var n=t[1]||"",r=t[3];if(!r)return n;if(e&&"function"==typeof btoa){var s=i(r);return[n].concat(r.sources.map(function(t){return"/*# sourceURL="+r.sourceRoot+t+" */"})).concat([s]).join("\n")}return[n].join("\n")}function i(t){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t))))+" */"}t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var i=n(e,t);return e[2]?"@media "+e[2]+"{"+i+"}":i}).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var i={},r=0;r<this.length;r++){var s=this[r][0];"number"==typeof s&&(i[s]=!0)}for(r=0;r<t.length;r++){var o=t[r];"number"==typeof o[0]&&i[o[0]]||(n&&!o[2]?o[2]=n:n&&(o[2]="("+o[2]+") and ("+n+")"),e.push(o))}},e}},function(t,e,n){(function(i){var r;!function(s){function o(){this._events={},this._conf&&a.call(this,this._conf)}function a(t){t?(this._conf=t,t.delimiter&&(this.delimiter=t.delimiter),this._maxListeners=t.maxListeners!==s?t.maxListeners:f,t.wildcard&&(this.wildcard=t.wildcard),t.newListener&&(this.newListener=t.newListener),t.verboseMemoryLeak&&(this.verboseMemoryLeak=t.verboseMemoryLeak),this.wildcard&&(this.listenerTree={})):this._maxListeners=f}function l(t,e){var n="(node) warning: possible EventEmitter memory leak detected. "+t+" listeners added. Use emitter.setMaxListeners() to increase limit.";if(this.verboseMemoryLeak&&(n+=" Event name: "+e+"."),void 0!==i&&i.emitWarning){var r=new Error(n);r.name="MaxListenersExceededWarning",r.emitter=this,r.count=t,i.emitWarning(r)}else console.error(n),console.trace&&console.trace()}function h(t){this._events={},this.newListener=!1,this.verboseMemoryLeak=!1,a.call(this,t)}function c(t,e,n,i){if(!n)return[];var r,s,o,a,l,h,u,p=[],f=e.length,y=e[i],d=e[i+1];if(i===f&&n._listeners){if("function"==typeof n._listeners)return t&&t.push(n._listeners),[n];for(r=0,s=n._listeners.length;r<s;r++)t&&t.push(n._listeners[r]);return[n]}if("*"===y||"**"===y||n[y]){if("*"===y){for(o in n)"_listeners"!==o&&n.hasOwnProperty(o)&&(p=p.concat(c(t,e,n[o],i+1)));return p}if("**"===y){u=i+1===f||i+2===f&&"*"===d,u&&n._listeners&&(p=p.concat(c(t,e,n,f)));for(o in n)"_listeners"!==o&&n.hasOwnProperty(o)&&("*"===o||"**"===o?(n[o]._listeners&&!u&&(p=p.concat(c(t,e,n[o],f))),p=p.concat(c(t,e,n[o],i))):p=o===d?p.concat(c(t,e,n[o],i+2)):p.concat(c(t,e,n[o],i)));return p}p=p.concat(c(t,e,n[y],i+1))}if(a=n["*"],a&&c(t,e,a,i+1),l=n["**"])if(i<f){l._listeners&&c(t,e,l,f);for(o in l)"_listeners"!==o&&l.hasOwnProperty(o)&&(o===d?c(t,e,l[o],i+2):o===y?c(t,e,l[o],i+1):(h={},h[o]=l[o],c(t,e,{"**":h},i+1)))}else l._listeners?c(t,e,l,f):l["*"]&&l["*"]._listeners&&c(t,e,l["*"],f);return p}function u(t,e){t="string"==typeof t?t.split(this.delimiter):t.slice();for(var n=0,i=t.length;n+1<i;n++)if("**"===t[n]&&"**"===t[n+1])return;for(var r=this.listenerTree,o=t.shift();o!==s;){if(r[o]||(r[o]={}),r=r[o],0===t.length)return r._listeners?("function"==typeof r._listeners&&(r._listeners=[r._listeners]),r._listeners.push(e),!r._listeners.warned&&this._maxListeners>0&&r._listeners.length>this._maxListeners&&(r._listeners.warned=!0,l.call(this,r._listeners.length,o))):r._listeners=e,!0;o=t.shift()}return!0}var p=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},f=10;h.EventEmitter2=h,h.prototype.delimiter=".",h.prototype.setMaxListeners=function(t){t!==s&&(this._maxListeners=t,this._conf||(this._conf={}),this._conf.maxListeners=t)},h.prototype.event="",h.prototype.once=function(t,e){return this._once(t,e,!1)},h.prototype.prependOnceListener=function(t,e){return this._once(t,e,!0)},h.prototype._once=function(t,e,n){return this._many(t,1,e,n),this},h.prototype.many=function(t,e,n){return this._many(t,e,n,!1)},h.prototype.prependMany=function(t,e,n){return this._many(t,e,n,!0)},h.prototype._many=function(t,e,n,i){function r(){return 0==--e&&s.off(t,r),n.apply(this,arguments)}var s=this;if("function"!=typeof n)throw new Error("many only accepts instances of Function");return r._origin=n,this._on(t,r,i),s},h.prototype.emit=function(){this._events||o.call(this);var t=arguments[0];if("newListener"===t&&!this.newListener&&!this._events.newListener)return!1;var e,n,i,r,s,a=arguments.length;if(this._all&&this._all.length){if(s=this._all.slice(),a>3)for(e=new Array(a),r=0;r<a;r++)e[r]=arguments[r];for(i=0,n=s.length;i<n;i++)switch(this.event=t,a){case 1:s[i].call(this,t);break;case 2:s[i].call(this,t,arguments[1]);break;case 3:s[i].call(this,t,arguments[1],arguments[2]);break;default:s[i].apply(this,e)}}if(this.wildcard){s=[];var l="string"==typeof t?t.split(this.delimiter):t.slice();c.call(this,s,l,this.listenerTree,0)}else{if("function"==typeof(s=this._events[t])){switch(this.event=t,a){case 1:s.call(this);break;case 2:s.call(this,arguments[1]);break;case 3:s.call(this,arguments[1],arguments[2]);break;default:for(e=new Array(a-1),r=1;r<a;r++)e[r-1]=arguments[r];s.apply(this,e)}return!0}s&&(s=s.slice())}if(s&&s.length){if(a>3)for(e=new Array(a-1),r=1;r<a;r++)e[r-1]=arguments[r];for(i=0,n=s.length;i<n;i++)switch(this.event=t,a){case 1:s[i].call(this);break;case 2:s[i].call(this,arguments[1]);break;case 3:s[i].call(this,arguments[1],arguments[2]);break;default:s[i].apply(this,e)}return!0}if(!this._all&&"error"===t)throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");return!!this._all},h.prototype.emitAsync=function(){this._events||o.call(this);var t=arguments[0];if("newListener"===t&&!this.newListener&&!this._events.newListener)return Promise.resolve([!1]);var e,n,i,r,s,a=[],l=arguments.length;if(this._all){if(l>3)for(e=new Array(l),r=1;r<l;r++)e[r]=arguments[r];for(i=0,n=this._all.length;i<n;i++)switch(this.event=t,l){case 1:a.push(this._all[i].call(this,t));break;case 2:a.push(this._all[i].call(this,t,arguments[1]));break;case 3:a.push(this._all[i].call(this,t,arguments[1],arguments[2]));break;default:a.push(this._all[i].apply(this,e))}}if(this.wildcard){s=[];var h="string"==typeof t?t.split(this.delimiter):t.slice();c.call(this,s,h,this.listenerTree,0)}else s=this._events[t];if("function"==typeof s)switch(this.event=t,l){case 1:a.push(s.call(this));break;case 2:a.push(s.call(this,arguments[1]));break;case 3:a.push(s.call(this,arguments[1],arguments[2]));break;default:for(e=new Array(l-1),r=1;r<l;r++)e[r-1]=arguments[r];a.push(s.apply(this,e))}else if(s&&s.length){if(s=s.slice(),l>3)for(e=new Array(l-1),r=1;r<l;r++)e[r-1]=arguments[r];for(i=0,n=s.length;i<n;i++)switch(this.event=t,l){case 1:a.push(s[i].call(this));break;case 2:a.push(s[i].call(this,arguments[1]));break;case 3:a.push(s[i].call(this,arguments[1],arguments[2]));break;default:a.push(s[i].apply(this,e))}}else if(!this._all&&"error"===t)return arguments[1]instanceof Error?Promise.reject(arguments[1]):Promise.reject("Uncaught, unspecified 'error' event.");return Promise.all(a)},h.prototype.on=function(t,e){return this._on(t,e,!1)},h.prototype.prependListener=function(t,e){return this._on(t,e,!0)},h.prototype.onAny=function(t){return this._onAny(t,!1)},h.prototype.prependAny=function(t){return this._onAny(t,!0)},h.prototype.addListener=h.prototype.on,h.prototype._onAny=function(t,e){if("function"!=typeof t)throw new Error("onAny only accepts instances of Function");return this._all||(this._all=[]),e?this._all.unshift(t):this._all.push(t),this},h.prototype._on=function(t,e,n){if("function"==typeof t)return this._onAny(t,e),this;if("function"!=typeof e)throw new Error("on only accepts instances of Function");return this._events||o.call(this),this.emit("newListener",t,e),this.wildcard?(u.call(this,t,e),this):(this._events[t]?("function"==typeof this._events[t]&&(this._events[t]=[this._events[t]]),n?this._events[t].unshift(e):this._events[t].push(e),!this._events[t].warned&&this._maxListeners>0&&this._events[t].length>this._maxListeners&&(this._events[t].warned=!0,l.call(this,this._events[t].length,t))):this._events[t]=e,this)},h.prototype.off=function(t,e){function n(t){if(t!==s){var e=Object.keys(t);for(var i in e){var r=e[i],o=t[r];o instanceof Function||"object"!=typeof o||null===o||(Object.keys(o).length>0&&n(t[r]),0===Object.keys(o).length&&delete t[r])}}}if("function"!=typeof e)throw new Error("removeListener only takes instances of Function");var i,r=[];if(this.wildcard){var o="string"==typeof t?t.split(this.delimiter):t.slice();r=c.call(this,null,o,this.listenerTree,0)}else{if(!this._events[t])return this;i=this._events[t],r.push({_listeners:i})}for(var a=0;a<r.length;a++){var l=r[a];if(i=l._listeners,p(i)){for(var h=-1,u=0,f=i.length;u<f;u++)if(i[u]===e||i[u].listener&&i[u].listener===e||i[u]._origin&&i[u]._origin===e){h=u;break}if(h<0)continue;return this.wildcard?l._listeners.splice(h,1):this._events[t].splice(h,1),0===i.length&&(this.wildcard?delete l._listeners:delete this._events[t]),this.emit("removeListener",t,e),this}(i===e||i.listener&&i.listener===e||i._origin&&i._origin===e)&&(this.wildcard?delete l._listeners:delete this._events[t],this.emit("removeListener",t,e))}return n(this.listenerTree),this},h.prototype.offAny=function(t){var e,n=0,i=0;if(t&&this._all&&this._all.length>0){for(e=this._all,n=0,i=e.length;n<i;n++)if(t===e[n])return e.splice(n,1),this.emit("removeListenerAny",t),this}else{for(e=this._all,n=0,i=e.length;n<i;n++)this.emit("removeListenerAny",e[n]);this._all=[]}return this},h.prototype.removeListener=h.prototype.off,h.prototype.removeAllListeners=function(t){if(0===arguments.length)return!this._events||o.call(this),this;if(this.wildcard)for(var e="string"==typeof t?t.split(this.delimiter):t.slice(),n=c.call(this,null,e,this.listenerTree,0),i=0;i<n.length;i++){var r=n[i];r._listeners=null}else this._events&&(this._events[t]=null);return this},h.prototype.listeners=function(t){if(this.wildcard){var e=[],n="string"==typeof t?t.split(this.delimiter):t.slice();return c.call(this,e,n,this.listenerTree,0),e}return this._events||o.call(this),this._events[t]||(this._events[t]=[]),p(this._events[t])||(this._events[t]=[this._events[t]]),this._events[t]},h.prototype.eventNames=function(){return Object.keys(this._events)},h.prototype.listenerCount=function(t){return this.listeners(t).length},h.prototype.listenersAny=function(){return this._all?this._all:[]},(r=function(){return h}.call(e,n,e,t))!==s&&(t.exports=r)}()}).call(e,n(10))},function(t,e,n){function i(t,e){for(var n=0;n<t.length;n++){var i=t[n],r=y[i.id];if(r){r.refs++;for(var s=0;s<r.parts.length;s++)r.parts[s](i.parts[s]);for(;s<i.parts.length;s++)r.parts.push(c(i.parts[s],e))}else{for(var o=[],s=0;s<i.parts.length;s++)o.push(c(i.parts[s],e));y[i.id]={id:i.id,refs:1,parts:o}}}}function r(t,e){for(var n=[],i={},r=0;r<t.length;r++){var s=t[r],o=e.base?s[0]+e.base:s[0],a=s[1],l=s[2],h=s[3],c={css:a,media:l,sourceMap:h};i[o]?i[o].parts.push(c):n.push(i[o]={id:o,parts:[c]})}return n}function s(t,e){var n=v(t.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var i=w[w.length-1];if("top"===t.insertAt)i?i.nextSibling?n.insertBefore(e,i.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),w.push(e);else{if("bottom"!==t.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(e)}}function o(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=w.indexOf(t);e>=0&&w.splice(e,1)}function a(t){var e=document.createElement("style");return t.attrs.type="text/css",h(e,t.attrs),s(t,e),e}function l(t){var e=document.createElement("link");return t.attrs.type="text/css",t.attrs.rel="stylesheet",h(e,t.attrs),s(t,e),e}function h(t,e){Object.keys(e).forEach(function(n){t.setAttribute(n,e[n])})}function c(t,e){var n,i,r,s;if(e.transform&&t.css){if(!(s=e.transform(t.css)))return function(){};t.css=s}if(e.singleton){var h=g++;n=m||(m=a(e)),i=u.bind(null,n,h,!1),r=u.bind(null,n,h,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=l(e),i=f.bind(null,n,e),r=function(){o(n),n.href&&URL.revokeObjectURL(n.href)}):(n=a(e),i=p.bind(null,n),r=function(){o(n)});return i(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;i(t=e)}else r()}}function u(t,e,n,i){var r=n?"":i.css;if(t.styleSheet)t.styleSheet.cssText=_(e,r);else{var s=document.createTextNode(r),o=t.childNodes;o[e]&&t.removeChild(o[e]),o.length?t.insertBefore(s,o[e]):t.appendChild(s)}}function p(t,e){var n=e.css,i=e.media;if(i&&t.setAttribute("media",i),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}function f(t,e,n){var i=n.css,r=n.sourceMap,s=void 0===e.convertToAbsoluteUrls&&r;(e.convertToAbsoluteUrls||s)&&(i=x(i)),r&&(i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var o=new Blob([i],{type:"text/css"}),a=t.href;t.href=URL.createObjectURL(o),a&&URL.revokeObjectURL(a)}var y={},d=function(t){var e;return function(){return void 0===e&&(e=t.apply(this,arguments)),e}}(function(){return window&&document&&document.all&&!window.atob}),v=function(t){var e={};return function(n){return void 0===e[n]&&(e[n]=t.call(this,n)),e[n]}}(function(t){return document.querySelector(t)}),m=null,g=0,w=[],x=n(12);t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");e=e||{},e.attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||(e.singleton=d()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var n=r(t,e);return i(n,e),function(t){for(var s=[],o=0;o<n.length;o++){var a=n[o],l=y[a.id];l.refs--,s.push(l)}if(t){i(r(t,e),e)}for(var o=0;o<s.length;o++){var l=s[o];if(0===l.refs){for(var h=0;h<l.parts.length;h++)l.parts[h]();delete y[l.id]}}}};var _=function(){var t=[];return function(e,n){return t[e]=n,t.filter(Boolean).join("\n")}}()},function(t,e,n){var i=n(9);"string"==typeof i&&(i=[[t.i,i,""]]);var r={};r.transform=void 0;n(5)(i,r);i.locals&&(t.exports=i.locals)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(16),r=n(18),s=n(14);n(11);var o=function(){function t(){this.rootElement=document.createElement("div"),this.rootElement.className="GameUi"}return t.prototype.startGame=function(){if(this.game)throw new Error("GameUi is already playing a Game");this.game=new i.default,this.controls=new s.default,this.renderer=new r.default,this.game.start(),this.controls.setSoldier(this.game.player),this.controls.setMouseTrackerElement(this.rootElement),this.renderer.start(this.game),this.render()},t.prototype.render=function(){this.rootElement.innerHTML='\n<div class="GameUi-teamListStats">\n  <span id="team1Stats" class="GameUi-teamStats">\n    <span id="team1Kills"></span>/<span id="team1Deaths"></span>\n  </span>\n  <span id="team2Stats" class="GameUi-teamStats">\n    <span id="team2Kills"></span>/<span id="team2Deaths"></span>\n  </span>\n</div>\n',this.rootElement.appendChild(this.renderer.canvas);var t=this.game.teams[0],e=this.game.teams[1];this.qs("#team1Stats").style.color=t.color,this.qs("#team2Stats").style.color=e.color;var n=this.qs("#team1Kills"),i=this.qs("#team1Deaths"),r=this.qs("#team2Kills"),s=this.qs("#team2Deaths");n.textContent=String(t.kills),i.textContent=String(t.deaths),r.textContent=String(e.kills),s.textContent=String(e.deaths),t.events.addListener("kill",function(){n.textContent=String(t.kills)}),t.events.addListener("death",function(){i.textContent=String(t.deaths)}),e.events.addListener("kill",function(){i.textContent=String(t.kills)}),e.events.addListener("death",function(){s.textContent=String(e.deaths)})},t.prototype.qs=function(t){return this.rootElement.querySelector(t)},t}();e.default=o},function(t,e,n){e=t.exports=n(3)(void 0),e.push([t.i,".GameUi{background:#e0e0e0;margin:auto;position:relative}.GameUi-teamListStats{position:absolute;top:10px;right:10px}",""])},function(t,e,n){e=t.exports=n(3)(void 0),e.push([t.i,"body{margin:0;overflow:hidden;background:gray;text-align:center;position:absolute;height:100%;width:100%;display:flex;font-family:sans-serif}",""])},function(t,e){function n(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function r(t){if(c===setTimeout)return setTimeout(t,0);if((c===n||!c)&&setTimeout)return c=setTimeout,setTimeout(t,0);try{return c(t,0)}catch(e){try{return c.call(null,t,0)}catch(e){return c.call(this,t,0)}}}function s(t){if(u===clearTimeout)return clearTimeout(t);if((u===i||!u)&&clearTimeout)return u=clearTimeout,clearTimeout(t);try{return u(t)}catch(e){try{return u.call(null,t)}catch(e){return u.call(this,t)}}}function o(){d&&f&&(d=!1,f.length?y=f.concat(y):v=-1,y.length&&a())}function a(){if(!d){var t=r(o);d=!0;for(var e=y.length;e;){for(f=y,y=[];++v<e;)f&&f[v].run();v=-1,e=y.length}f=null,d=!1,s(t)}}function l(t,e){this.fun=t,this.array=e}function h(){}var c,u,p=t.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:n}catch(t){c=n}try{u="function"==typeof clearTimeout?clearTimeout:i}catch(t){u=i}}();var f,y=[],d=!1,v=-1;p.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];y.push(new l(t,e)),1!==y.length||d||r(a)},l.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=h,p.addListener=h,p.once=h,p.off=h,p.removeListener=h,p.removeAllListeners=h,p.emit=h,p.prependListener=h,p.prependOnceListener=h,p.listeners=function(t){return[]},p.binding=function(t){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(t){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},function(t,e,n){var i=n(8);"string"==typeof i&&(i=[[t.i,i,""]]);var r={};r.transform=void 0;n(5)(i,r);i.locals&&(t.exports=i.locals)},function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var n=e.protocol+"//"+e.host,i=n+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(t,e){var r=e.trim().replace(/^"(.*)"$/,function(t,e){return e}).replace(/^'(.*)'$/,function(t,e){return e});if(/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(r))return t;var s;return s=0===r.indexOf("//")?r:0===r.indexOf("/")?n+r:i+r.replace(/^\.\//,""),"url("+JSON.stringify(s)+")"})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){this.soldierCanvasMap=new Map}return t.prototype.getBulletCanvas=function(t){var e=this.bulletCanvas;if(!e){var n=t.radius;e=document.createElement("canvas"),e.width=2*n,e.height=2*n;var i=e.getContext("2d");i.beginPath(),i.arc(n,n,n,0,2*Math.PI,!1),i.fillStyle="orange",i.fill(),this.bulletCanvas=e}return e},t.prototype.getGameMapCanvas=function(t){var e=this.gameMapCanvas;if(!e){e=document.createElement("canvas"),e.width=t.width,e.height=t.height;var n=e.getContext("2d");n.beginPath(),t.walls.map(function(t){n.moveTo(t[0].x,t[0].y),t.forEach(function(t){return n.lineTo(t.x,t.y)})}),n.fillStyle="#AAA",n.fill(),this.gameMapCanvas=e}return e},t.prototype.getSoldierCanvas=function(t){var e=t.team.color,n=e,i=this.soldierCanvasMap.get(n);if(!i){var r=t.radius;i=document.createElement("canvas"),i.width=2*r,i.height=2*r;var s=i.getContext("2d");s.beginPath(),s.arc(r,r,r,0,2*Math.PI,!1),s.fillStyle=e,s.fill(),s.beginPath(),s.moveTo(2*r,r),s.lineTo(r,r),s.strokeStyle="black",s.lineWidth=3,s.stroke(),this.soldierCanvasMap.set(n,i)}return i},t}();e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=1/Math.sqrt(2),s={x:0,y:-1},o={x:0,y:1},a={x:-1,y:0},l={x:1,y:0},h={x:-r,y:-r},c={x:r,y:-r},u={x:-r,y:r},p={x:r,y:r},f={NX:s,SX:o,XW:a,XE:l,NW:h,NE:c,SW:u,SE:p,XX:i.NULL_VECTOR},y={FORWARD:"w",BACKWARD:"s",LEFT:"a",RIGHT:"d"},d=function(){function t(t){void 0===t&&(t=y),this.keyBindings=t,this.soldier=null,this.currentKeys=[],this.currentKeySet=new Set,this.keyboardListener=this.keyboardListener.bind(this),this.mouseListener=this.mouseListener.bind(this)}return t.prototype.setSoldier=function(t){if(this.soldier)throw new Error("Soldier already set for Controls");this.soldier=t,window.addEventListener("keydown",this.keyboardListener),window.addEventListener("keyup",this.keyboardListener)},t.prototype.setMouseTrackerElement=function(t){t.addEventListener("mousemove",this.mouseListener),t.addEventListener("mousedown",this.mouseListener),t.addEventListener("mouseup",this.mouseListener)},t.prototype.keyboardListener=function(t){var e=t.key,n=t.type;if("keydown"!==n||this.currentKeySet.has(e)){if("keyup"===n&&this.currentKeySet.delete(e)){var i=this.currentKeys.indexOf(e);this.currentKeys.splice(i,1)}}else this.currentKeys.push(e),this.currentKeySet.add(e);this.updateCurrentDirection()},t.prototype.mouseListener=function(t){var e=t.type;"mousemove"===e?this.soldier.setFocusPoint(t.offsetX,t.offsetY):"mousedown"===e?this.soldier.startShooting():"mouseup"===e&&this.soldier.stopShooting()},t.prototype.updateCurrentDirection=function(){var t=this.keyBindings,e=t.FORWARD,n=t.BACKWARD,i=t.LEFT,r=t.RIGHT,s="X",o="X";this.currentKeys.forEach(function(t){switch(t){case e:o="N";break;case n:o="S";break;case i:s="W";break;case r:s="E"}});var a=f[o+s];this.soldier.setMovementDirection(a.x,a.y)},t}();e.default=d},function(t,e,n){"use strict";function i(t,e){var n=t.a.x,i=t.a.y,r=t.b.x-t.a.x,s=t.b.y-t.a.y,o=e.a.x,a=e.a.y,l=e.b.x-e.a.x,h=e.b.y-e.a.y,c=Math.sqrt(r*r+s*s),u=Math.sqrt(l*l+h*h);if(r/c==l/u&&s/c==h/u)return null;var p=(r*(a-i)+s*(n-o))/(l*s-h*r),f=(o+l*p-n)/r;return f<0?null:p<0||p>1?null:{x:n+r*f,y:i+s*f,param:f}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),s=(Math.PI,.35*Math.PI),o=function(){function t(t){this.entity=t}return t.prototype.setMap=function(t){this.map=t},t.prototype.update=function(){var t=this;if(this.entity.isOutOfGame())return void(this.intersects=[]);var e=this.map.wallPoints,n=this.entity.angle-s,o=this.entity.angle+s,a=this.entity.angle+(this.entity.angle<0?Math.PI:-Math.PI),l=[n,o];e.forEach(function(e,i){var s=r.angleBetweenTwoVectors(t.entity.position,e);a>0&&s>a?s-=2*Math.PI:a<0&&s<a&&(s+=2*Math.PI),s<=o&&s>=n&&l.push(s-1e-5,s,s+1e-5)});var h=[{x:this.entity.position.x,y:this.entity.position.y,angle:n-1e-5},{x:this.entity.position.x,y:this.entity.position.y,angle:o+1e-5}];l.forEach(function(e){var n=Math.cos(e),r=Math.sin(e),s=t.entity.position,o={a:{x:s.x,y:s.y},b:{x:s.x+n,y:s.y+r}},a=null;t.map.wallSegments.forEach(function(t){var e=i(o,t);e&&(!a||e.param<a.param)&&(a=e)}),a&&(a.angle=e,h.push(a))}),h.sort(function(t,e){return t.angle-e.angle}),this.intersects=h},t}();e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),r=n(4),s=n(21),o=n(20),a=n(22),l=n(17),h=n(19),c=new i.Response,u=function(){function t(){this.map=new l.default,this.entities=[],this.tickrate=128,this.loopInterval=1e3/this.tickrate,this.player=null,this.soldiers=[],this.bullets=[],this.teams=[],this.events=new r.EventEmitter2}return t.prototype.start=function(){if(this.loop!==t.prototype.loop)throw new Error("Game already started");this.loadMap(),this.createTeams(),this.startRound(),this.loop=this.loop.bind(this),this.loop()},t.prototype.loadMap=function(){this.walls=this.map.walls.map(function(t){return new a.default(t)}),(t=this.entities).push.apply(t,this.walls);var t},t.prototype.createTeams=function(){this.teams.push(new h.default("blue"),new h.default("red"))},t.prototype.startRound=function(){var t=this.addSoldier(this.map.spawnPoints[0],this.teams[0]);this.player=t;this.addSoldier(this.map.spawnPoints[1],this.teams[1])},t.prototype.addSoldier=function(t,e){var n=new s.default;return e.addSoldier(n),n.fov.setMap(this.map),n.setPosition(t.x,t.y),n.setAngle(t.angle),this.entities.push(n),this.soldiers.push(n),n},t.prototype.removeEntity=function(t,e){t.resetPosition();var n=e.indexOf(t);n>=0&&e.splice(n,1);var i=this.entities.indexOf(t);i>=0&&this.entities.splice(i,1)},t.prototype.loop=function(){this.soldiers.forEach(this.loopSoldier,this),this.bullets.forEach(this.loopBullet,this),setTimeout(this.loop,this.loopInterval)},t.prototype.moveEntity=function(t){var e=t.position,n=e.x+t.speed.x/this.tickrate,i=e.y+t.speed.y/this.tickrate;n=Math.max(n,0),n=Math.min(n,this.map.width),i=Math.max(i,0),i=Math.min(i,this.map.height),t.setPosition(n,i)},t.prototype.loopSoldier=function(t){(t.speed.x||t.speed.y)&&(this.moveEntity(t),this.checkSoldierCollisions(t)),this.makeShot(t)},t.prototype.loopBullet=function(t){this.moveEntity(t),this.checkBulletCollisions(t)},t.prototype.checkSoldierCollisions=function(t){var e=!1,n=0;do{n+=1,e=this.walls.some(function(e){var n=i.testPolygonCircle(e.sat,t.sat,c)&&Boolean(c.overlap);return n&&t.setPosition(t.position.x+c.overlapV.x,t.position.y+c.overlapV.y),c.clear(),n})}while(e&&n<10)},t.prototype.checkBulletCollisions=function(t){if(this.walls.find(function(e){return i.testPolygonCircle(e.sat,t.sat)}))return void this.removeEntity(t,this.bullets);var e=this.soldiers.find(function(e){return i.testCircleCircle(e.sat,t.sat)});e&&(this.removeEntity(t,this.bullets),this.removeEntity(e,this.soldiers),e.team.addSoldierDeath(e),t.soldier.team!==e.team&&t.soldier.team.addKill())},t.prototype.makeShot=function(t){if(t.shooting){var e=new o.default;e.fireFromSoldier(t),this.bullets.push(e),this.entities.push(e)}},t}();e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){var t=this;this.height=800,this.width=800,this.spawnPoints=[{x:50,y:50,angle:0},{x:160,y:50,angle:Math.PI/2}],this.walls=[[{x:400,y:400},{x:600,y:400},{x:500,y:450}],[{x:100,y:0},{x:120,y:0},{x:120,y:200},{x:100,y:200}],[{x:0,y:200},{x:200,y:250},{x:0,y:250}]];var e={x:0,y:0},n={x:this.width,y:0},i={x:this.width,y:this.height},r={x:0,y:this.height};this.walls.push([e,n],[n,i],[i,r],[r,e]);var s=new Set;this.wallPoints=[],this.walls.forEach(function(e){e.forEach(function(e){var n=e.x+","+e.y;s.has(n)||(s.add(n),t.wallPoints.push(e))})}),this.wallSegments=[],this.walls.forEach(function(e){for(var n=1;n<e.length;n+=1)t.wallSegments.push({a:e[n-1],b:e[n]});t.wallSegments.push({a:e[e.length-1],b:e[0]})})}return t}();e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(13),r=function(){function t(){}return t.prototype.start=function(t){if(this.game)throw new Error("Renderer is already rendering a Game");this.game=t;var e=document.createElement("canvas");e.width=this.game.map.width,e.height=this.game.map.height,this.canvas=e,this.canvasContext=e.getContext("2d"),this.canvasFactory=new i.default,this.render=this.render.bind(this),this.render()},t.prototype.render=function(){this.canvasContext.clearRect(0,0,this.canvas.width,this.canvas.height),this.drawMap(),this.drawFogOfWar(),this.drawSoldiers(),this.drawBullets(),window.requestAnimationFrame(this.render)},t.prototype.drawMap=function(){var t=this.canvasFactory.getGameMapCanvas(this.game.map);this.canvasContext.drawImage(t,0,0)},t.prototype.drawSoldiers=function(){var t=this.canvasContext;t.globalCompositeOperation="source-over",this.drawSoldier(this.game.player),t.globalCompositeOperation="destination-over",this.game.soldiers.forEach(this.drawSoldier,this)},t.prototype.drawSoldier=function(t){if(!t.isOutOfGame()){var e=this.canvasFactory.getSoldierCanvas(t);this.drawEntity(t,e)}},t.prototype.drawBullets=function(){this.canvasContext.globalCompositeOperation="destination-over",this.game.bullets.forEach(this.drawBullet,this)},t.prototype.drawBullet=function(t){if(!t.isOutOfGame()){var e=this.canvasFactory.getBulletCanvas(t);this.drawEntity(t,e)}},t.prototype.drawEntity=function(t,e){var n=t.position,i=t.angle,r=this.canvasContext,s=this.game.map,o=(s.width,s.height,n.x),a=n.y;r.translate(o,a),r.rotate(i),r.drawImage(e,-e.width/2,-e.height/2),r.rotate(-i),r.translate(-o,-a)},t.prototype.drawFogOfWar=function(){var t=this.game.player.fov.intersects,e=this.canvasContext;if(!t.length)return e.globalCompositeOperation="source-over",e.fillStyle="black",void e.fillRect(0,0,this.canvas.width,this.canvas.height);e.beginPath(),e.moveTo(t[0].x,t[0].y);for(var n=1;n<t.length;n+=1){var i=t[n];e.lineTo(i.x,i.y)}e.lineTo(t[0].x,t[0].y),e.lineWidth=10,e.globalCompositeOperation="destination-in",e.stroke(),e.fillStyle="black",e.globalCompositeOperation="destination-over",e.fillRect(0,0,this.canvas.width,this.canvas.height),e.beginPath(),e.moveTo(t[0].x,t[0].y);for(var n=1;n<t.length;n+=1){var i=t[n];e.lineTo(i.x,i.y)}e.globalCompositeOperation="destination-out",e.fill()},t.prototype.drawDebugFov=function(t){var e=t.fov.intersects,n=this.canvasContext;n.fillStyle="#dd3838",n.beginPath(),n.moveTo(e[0].x,e[0].y);for(var i=1;i<e.length;i+=1){var r=e[i];n.lineTo(r.x,r.y)}n.fill(),n.strokeStyle="#f55";for(var i=0;i<e.length;i+=1){var r=e[i];n.beginPath(),n.moveTo(t.position.x,t.position.y),n.lineTo(r.x,r.y),n.stroke()}},t}();e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(4),r=function(){function t(t){this.name=t,this.color=t,this.soldiers=[],this.kills=0,this.deaths=0,this.events=new i.EventEmitter2}return t.prototype.addSoldier=function(t){t.setTeam(this),this.soldiers.push(t)},t.prototype.addSoldierDeath=function(t){var e=this.soldiers.indexOf(t);e>=0&&this.soldiers.splice(e,1),this.deaths+=1,this.events.emit("death")},t.prototype.addKill=function(){this.kills+=1,this.events.emit("kill")},t}();e.default=r},function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),s=n(2),o=n(0),a=function(t){function e(){var e=t.call(this)||this;return e.position={x:NaN,y:NaN},e.speed={x:NaN,y:NaN},e.radius=2,e.maxSpeedModule=1500,e.sat=new r.Circle(new r.Vector,e.radius),e}return i(e,t),e.prototype.fireFromSoldier=function(t){this.soldier=t,this.setAngle(t.angle);var e=o.polarToCartesian(t.radius-this.radius,this.angle);this.setPosition(t.position.x+e.x,t.position.y+e.y);var n=o.polarToCartesian(1,this.angle);this.setMovementDirection(n.x,n.y)},e.prototype.setPosition=function(e,n){t.prototype.setPosition.call(this,e,n),this.sat.pos.x=e,this.sat.pos.y=n},e}(s.default);e.default=a},function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),s=n(0),o=n(2),a=n(15),l=function(t){function e(){var e=t.call(this)||this;return e.position={x:NaN,y:NaN},e.speed={x:0,y:0},e.radius=10,e.maxSpeedModule=250,e.focusPoint={x:NaN,y:NaN},e.sat=new r.Circle(new r.Vector,e.radius),e._fov=new a.default(e),e.fovUpdatePending=!1,e.shooting=!1,e}return i(e,t),Object.defineProperty(e.prototype,"fov",{get:function(){return this.fovUpdatePending&&(this._fov.update(),this.fovUpdatePending=!1),this._fov},enumerable:!0,configurable:!0}),e.prototype.setAngleByFocusPoint=function(){if(!Number.isNaN(this.focusPoint.x)){var t=s.angleBetweenTwoVectors(this.position,this.focusPoint);this.setAngle(t)}},e.prototype.setPosition=function(e,n){t.prototype.setPosition.call(this,e,n),this.sat.pos.x=e,this.sat.pos.y=n,this.setAngleByFocusPoint(),this.fovUpdatePending=!0},e.prototype.setAngle=function(e){t.prototype.setAngle.call(this,e),this.fovUpdatePending=!0},e.prototype.setFocusPoint=function(t,e){this.focusPoint.x=t,this.focusPoint.y=e,this.setAngleByFocusPoint()},e.prototype.startShooting=function(){this.shooting=!0},e.prototype.stopShooting=function(){this.shooting=!1},e.prototype.setTeam=function(t){this.team=t},e}(o.default);e.default=l},function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),s=n(2),o=function(t){function e(e){var n=t.call(this)||this,i=e.map(function(t){return t.x}),s=e.map(function(t){return t.y});return n.minX=Math.min.apply(Math,i),n.maxX=Math.max.apply(Math,i),n.minY=Math.min.apply(Math,s),n.maxY=Math.max.apply(Math,s),n.position={x:(n.maxX+n.minX)/2,y:(n.maxY+n.minY)/2},n.points=e,n.sat=new r.Polygon(new r.Vector,e.map(function(t){return new r.Vector(t.x,t.y)})),n}return i(e,t),e}(s.default);e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(7);n(6);var r=new i.default;r.startGame(),document.body.appendChild(r.rootElement)}]);